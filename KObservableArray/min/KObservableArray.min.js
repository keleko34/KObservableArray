var CreateKObservableArray=function(){return function(x,w,y){function r(a,b,c,d,e,f){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=b;this.arguments=f;this.type=c;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=a.___kbImmediateParent;this.value=d;this.oldValue=e}function t(a){var b=this[a];return function(a,d){b[a]=d;return this}}function u(a){var b=this[a];return function(a,
d){void 0!==d&&(b=b[a]);for(var e=0,f=b.length;e<f;e++)if(b[e].toString()===d.toString()){b.splice(e,1);break}return this}}function z(a,b,c){return{get:function(){return a[b]},set:function(c){a[b]=c},enumerable:c.enumerable,configurable:c.configurable}}function d(a,b){return{value:a,writable:!!b,enumerable:!1,configurable:!1}}function p(a,b){var c=a,d=a,e=this.onset,f=this.onupdate;return{get:function(){return c},set:function(a,k){!0!==e(this,b,a,c)&&(d=c,c=a,f(this,b,c,d),k||this.callSubscribers(b,
c,d))},configurable:!0,enumerable:!0}}var g=[],n={splice:[],push:[],pop:[],shift:[],unshift:[],fill:[],reverse:[],sort:[],add:[],set:[],remove:[]},f=function(a,b,c,d,e,f){a=new r(a,b,c,d,e,f);b=0;c=n[c];for(d=c.length;b!==d&&(c[b](a),!a._stopPropogration);b++);return a._preventDefault},l={},q=function(a,b,c,d,e){a=new r(a,b,c,d,e);g.onadd(a);return a._preventDefault},v=function(a,b,c,d,e){a=new r(a,b,c,d,e);g.onremove(a);return a._preventDefault};g.onadd=function(a){};g.onremove=function(a){};g.onset=
function(a){};g.onupdate=function(a){};g.onobject=function(a){return a};Object.defineProperties(g,{__kbname:d(x||"",!0),__kbref:d(w||null,!0),__kbscopeString:d(y||"",!0),__kbImmediateParent:d(w||null,!0),splice:d(function(a,b,c){var d=[],e="[object Array]"===Object.prototype.toString.call(c),g=void 0!==c?e?c.length:1:0,m=0;if(0!==b&&void 0!==this[a-1+b]){for(var k=0,l=b;k<l;k++)if(m=a+k,!0!==v(this,m,"remove",this[m])){d.push(this[m-d.length]);for(var h=a,n=this.length-1;h<n;h++)this[h]=this[h+1]}else--b;
this.length-=b}if(0!==g)for(e||(c=[c]),k=0,l=g;k<l;k++)if(m=a+k,!0!==q(this,m,"add",c[k],this[m])){h=this.length;for(n=m;h>n;h--)void 0===this[h]?Object.defineProperty(this,h,p.call(this,this[h-1],h)):this[h]=this[h-1];this[m]=c[k]}f(this,a,"splice",c,void 0,arguments);return d}),push:d(function(a){!0!==q(this,this.length,"add",a)&&(Object.defineProperty(this,this.length,p.call(this,a,this.length)),f(this,this.length-1,"push",a,void 0,arguments));return this.length}),pop:d(function(){var a=this[this.length-
1];return!0!==v(this,this.length-1,"remove",a)?(--this.length,f(this,this.length,"pop",a,void 0,arguments),a):null}),shift:d(function(){var a=this[0];if(!0!==v(this,0,"remove",a)){for(var b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];--this.length;f(this,0,"shift",a,void 0,arguments);return a}return null}),unshift:d(function(){for(var a=Array.prototype.slice.call(arguments),b=0,c=a.length;b<c;b++)!0===q(this,b,"add",a[b])&&a.splice(b,1);if(0!==a.length)for(b=this.length-1+a.length,c=a.length;-1!==
b;b--)b<c?this[b]=a[b]:void 0!==Object.getOwnPropertyDescriptor(this,b).value?Object.defineProperty(this,b,p.call(this,this[b-a.length],b)):this[b]=this[b-a.length];f(this,0,"unshift",a,void 0,arguments);return this.length}),fill:d(function(a,b,c){for(var d=void 0!==c&&c<=this.length?Math.min(this.length,Math.max(0,c)):this.length,e=void 0!==b?Math.max(0,b):0;e<d;e++)this[e]=a;f(this,0,"fill",a,void 0,arguments);return this}),reverse:d(function(){for(var a=this.slice().reverse(),b=0,c=this.length;b<
c;b++)this[b]=a[b];f(this,0,"reverse",a,void 0,arguments);return this}),sort:d(function(){for(var a=this.slice(),a=a.sort.apply(a,arguments),b=0,c=this.length;b<c;b++)this[b]=a[b];f(this,0,"sort",a,void 0,arguments);return this}),add:d(function(a,b){if(void 0===b)this.push(a);else if(void 0===this[b])!0!==q(this,b,"add",a)&&Object.defineProperty(this,b,p.call(this,a,b));else return console.error("Your attempting to add the index: ",b," that already exists on",this,"try using set or direct set instead"),
this;f(this,b,"add",a,void 0,arguments);return this}),addPointer:d(function(a,b){if(void 0!==this[key])return console.error("Your attempting to add the key: "+key+" that already exists on",this," use .set() or direct set instead"),this;if(!0!==q(this,key,a[b])){var c=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(this,b,z(a,b,c))}f(this,b,"add",a[b],void 0,arguments);return this}),set:d(function(a,b,c){void 0===this[a]?this.add(b,a):void 0===Object.getOwnPropertyDescriptor(this,a).value?
Object.getOwnPropertyDescriptor(this,a).set(b,c):Object.defineProperty(this,a,p.call(this,b,a));f(this,a,"set",b,void 0,arguments);return this}),remove:d(function(a,b){if(void 0===this[a])return console.error("Your attempting to remove the index: ",a," that does not exist on ",this),this;var c=this[a];this.splice(a,b);f(this,a,"remove",c,void 0,arguments);return this}),stringify:d(function(){var a=[];return JSON.stringify(this,function(b,c){if("[object Array]"===Object.prototype.toString.call(c)||
"object"===typeof c&&c&&"[object Object]"===Object.prototype.toString.call(c)){if(-1!==a.indexOf(c))return;a.push(c)}return c})}),callSubscribers:d(function(a,b,c){if(void 0!==l[a]){b=new r(this,a,"subscriber",b,c);c=0;for(var d=l[a].length;c<d&&(l[a][c](b),!b._stopPropogration);c++);}return this}),subscribe:d(function(a,b){void 0===l[a]&&(l[a]=[]);l[a].push(b);return this}),__kblisteners:d({}),__kbupdatelisteners:d({}),__kbparentlisteners:d({}),__kbparentupdatelisteners:d({}),__kbdatacreatelisteners:d([]),
__kbdatadeletelisteners:d([]),addActionListener:d(function(a,b){-1!==Object.keys(n).indexOf(a)?n[a].push(b):console.error("There is no action listener by the name: ",a);return this}),removeActionListener:d(function(a,b){if(-1!==Object.keys(n).indexOf(a))for(var c=0,d=n[a],e=d.length;c!==e;c++){if(d[c].toString()===b.toString()){d.splice(c,1);break}}else console.error("There is no action listener by the name: ",a);return this})});Object.defineProperties(g,{addDataListener:d(t("__kblisteners")),removeDataListener:d(u("__kblisteners")),
addDataUpdateListener:d(t("__kbupdatelisteners")),removeDataUpdateListener:d(u("__kbupdatelisteners")),addDataCreateListener:d(t("__kbdatacreatelisteners")),removeDataCreateListener:d(u("__kbdatacreatelisteners")),addDataRemoveListener:d(t("__kbdatadeletelisteners")),removeDataRemoveListener:d(u("__kbdatadeletelisteners"))});return g}}();
